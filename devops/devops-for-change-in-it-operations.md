# IT 운용 체제 변화를 위한 데브옵스

## 1. DevOps 알아보기
* DevOps의 개요와 DevOps와 관련된 키워드를 알아본다. DevOps의 탄생 배경과 DevOps가 구체적으로 어떤 정책과 도구로 유지되는지 설명한다. 

### 1.1 DevOps의 등장배경
  * DevOps는 Dev(개발)과 Ops(운용)이 긴밀히 협조, 엽계하여 **비즈니스 측면의 가치를 높이는 근무 방식과 문화**를 말한다.
  * DevOps에서는 개발과 운용이 협업하여 팀간의 호버헤드를 상당히 해소할 수 있게 됨으로써 **간소화를 통해 개발에 속도를 부여**하고, **서로간의 이해에 기반하여 변경에 유연성을 부여**한다.
  * 일하는 방법이면서, 개발에 한정된 방법이 아니라, 팀 빌딩, 개발 프로세스 설계 등의 조직 구성, 더 나아가 문화의 형성까지 포함하고 있는 사고방식  
#### 1.1.1 DevOps의 탄생 배경
  * 다음과 같은 질문의 해결 방법을 도출해 내기 위해 DevOps가 나오게 되었다.
      * 계속적으로 발전해 온 개발 방법을 토대로 하여 '더욱 효율적으로 개발하려면 어떻게 하면 좋을까?'
      * '보다 좋은 방안으로 개선하려면 어떻게 하면 좋을까?'
  * DevOps가 탄생하게 된 foundation 2 가지
    * **애자일 개발**에 의한 **계속적인 개발**로의 변화
    * **계속적인 개발**로 인해 나타나는 **운용 과제**
  * 애자일 개발 (agile software development)의 다양한 도구와 방법에서 생겨난 운용과제가 DevOps라는 것을 탄생 시켰고, 현재의 DevOps 개념 및 방법, 도구를 지원하고 있다.

#### 1.1.2 애자일 개발에 의학 계속적 개발로 변화

- 과거: 워터폴(waterfall) 개발 방법론
  - 1980년대
  - 개발공정을 분할하고 이전 공정이 끝나지 않으면 다음 공정이 진행 될 수 없는 개발 형태를 가지고 있다.
    - 개발 공정 예: 계획 -> 요건 정의 -> 설계 -> 개발(설치) -> 테스트 -> Release -> 운용
  - 각 공정마다 확실하게 완료된 상태로 진행해감으로써 시스템 전체의 품짐을 향상시키는 방식이므로 매우 많은 시간이 필요하다.
  - 현재의 웹 서비스에서는 상당히 짧은 기간에 기능 추가/개선 요구가 발생하고 있고, 워터폴 형태의 개발은 이와 같이 짧은 기간에 점차적으로 요구 사항이 적용되고 상세한 변경이 반복되는 즉, **유연성이 필요한 개발에는 대응이 매우 어렵다.**
- 최근: 애자일(agile) 개발 방법론
  - 서비스를 정책적으로 실시하면서 피드백을 받아 개발을 여러 번 반복하는 "프로토타입 모델" 과 소규모 개발을 전제로 필요한 최소한의 요건을 적용한 성과물을 만들어 Release 한다.
  - 고객의 피드백을 받아서 계속적인 개선을 반복한다.
  - 짧은 기간에 개발 사이클을 진행할 수 있는 기반을 마련했다.
  - 기능의 추가가 빈번하게 이루어 진다.
    - 여러번 이루어지는 업데이트 횟수에 대응하고 계속적으로 개선을 반복하기 때문에 계속성 및 효율을 추구하는 개발 방법이나 도구가 생겨났고, **지속적 통합(continuous integration)**이라는 개념이 생겨났다.
- 그러나,
  - 개발자는 개발 범위 효율화 및 자동화를 추진하는, 지속적 통합이라는 성과물 생성과 관련된 효율화를 진행했지만, 어떻게 하여도 용 측면 과제가 존재한다는 것을 깨닫게 되었다.

#### 1.1.3 계속적 개발로 나타나기 시작한 운용 과제

- Agile 2008 Conference

  - Agile Infrastructure & Operations - Patrick Debois
    - "운용팀은 개발팀으로부터 고의적으로 분리되어 있다 라는 현상"에 대하여 언급하고 있다.
    - 운용 측면 입장
      - 문제점: 기술적 (개발관련) 부담을 떠안게 됨
        - 예시
          - 어떤 영향을 불러올지 몰라서 업데이트 패치를 적용하지 않았다
          - 하드웨어 기술 지원 기간이 지나버렸다
          - 신속한 보안을 위해 스크립트를 재시작한다
          - 마이그레이션이 불완전하게 끝난다
      - 해결책:
        -  데일리 스크럼 (일일 회의)를 통해 진행 방향에 대한 해결책을 도출
        - 팀 멤버의 관심 여부에 따라 우선 순위를 매기거나 테스크에 페어로 대응
        - Information radiation (정보 공유)를 통해 정보가 자연스럽게 전해지는 상태를 형성
    - 개발 측면 입장
      - 문제점: 기능 요건 외의 모니터링, 이중화, 백업, OS 등 비기능 요건을 소홀하게 취급함 (운용관련)
        - 예시
          - 스페셜리스트들만 존재한다
          - 누구도 다른일을 하지 않는다
          - 추가 기능 및 개선 사항을 관리하는 리스트에는 To Do 만 존재한다
          - 어플리케이션 내부에 대한 지식이 없다
          - 프로덕트 매니저나 운용 매니저 등 팀마다 매니저가 존재하기 때문에 프로덕트 책임자가 다수 존재하여 정말 중요한 요건이 보이지 않게 된다
      - 해결책:
        - Cross Functional Team: 인프라팀을 포함시킨 애자일 개발
        - 인프라 요건을 기존보다 더욱 이른 단계에서 가시화
        - 과제에 대해서는 과제의 주인을 명확히 하는 것

- Agile 2009 Conference

  - Agile Infrastructure - Andrew Shafer

    - Wall of Confusion (개발과 운용 사이의 혼란을 지칭하는 말)
    - 이 벽을 넘어서 개발과 운용이 서로 간의 영역으로 들어가 애자일 개발처럼 인프라가 운용되는, 애자일 인프라를 실현하는 수단으로써 Infrastructure is code 라는 주제로 방법을 설명하고 있다
      - 모든 버전을 관리: 인프라의 컨피규레이션
      - 원스톱 디플로이
      - 모니터링
      - 인프라의 지속적 통합
    - 코드화된 구성 정보를 동일한 소프트웨어 관리 시스템의 repository에 적재하여 가시화 하는 것을 언급한다. 이는 운용 과제에 대한 해결책으로써 개발과 운용이 정보를 공유하는 가시화 과정을 통해 인프라의 코드화가 가속화되어 Infrastructure as Code를 형성한 기반이다.

  - 운용 과제 해결책으로써 인프라 구성 관리 도구

    - 인프라 구성 관리 (Provisioning) 도구
      - 서버와 스토리지, 네트워크 등 인프라에 대한 설정을 수행함 
        - 여러 서버를 Web 서버 그룹, DB 서버 그룹처럼 분류하고 각각의 그룹에 대하여 설정을 배포하거나 명령을 실행할 수 있다.
      - 프로비저닝 영역
        - 오케스트레이션
          - 디플로이나 노드 간 연계 등 복수의 서버에 대한 설정이나 관리를 말한다
          - 다른 말로, 개발 결과물을 복수의 서버로 일괄 Deploy하듯이 여러대에 동일한 설정을 하는 작업을 말한다
        - 컨피규레이션
          - 부트 스트래핑이 끝난 서버에 대한 OS 설정 변경이나 미들웨어의 설정 적용 등을 말한다
        - 부트 스트래핑
          - 가상 머신이나, OS 설치를 말한다
          - 인프라 환경을 제공하는 클라우드 서비스(Iaas)에 가상머신의 구성과 컨테이너 생성에 해당
          - 이용자 관점
            - 인프라 운용 담당자가 하드웨어에 기본이 되는 OS를 설치하는 경우에 이용되는 도구
          - 인프라 담당자의 담당 영역도 하드웨어 보단 소프트웨어에 가까워지고 있음. 부트스트래핑을 이용한 작업의 수행은 많이 없어짐.
      - Puppet, Chef, Ansible 로 인해 컨피규레이션과 오케스트레이션의 경계선이 사라지고 있다.

  - Infrastructure as Code와 DevOps

    

